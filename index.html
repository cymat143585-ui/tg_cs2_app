<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Mcrystals</title>
<style>
    body {
        background-color: #000;
        color: #fff;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        justify-content: center;
    }

    h1 {
        font-size: 3em;
        margin-bottom: 40px;
    }

    .tasks-box {
        border: 2px solid #fff;      /* —Ä–∞–º–∫–∞ */
        border-radius: 15px;          /* –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
        padding: 20px;
        margin: 10px auto;
        width: 300px;
        text-align: center;
        background-color: #111;
    }

    .tasks-box button {
        margin-top: 10px;
        padding: 10px 20px;
        border-radius: 10px;
        border: none;
        background: #4caf50;
        color: #fff;
        font-size: 1em;
        cursor: pointer;
    }

    .task-line {
        border: 0;
        height: 1px;
        background: #fff;
        margin: 10px auto;
        width: 80%;
    }

    #status {
        margin-top: 20px;
        font-size: 1.4em;
    }
</style>
</head>
<body>

<h1>Mcrystals</h1>

<div class="tasks-box">
    <p>–ó–∞–¥–∞–Ω–∏–µ 1: –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª</p>
    <button onclick="checkSub()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</button>
</div>

<hr class="task-line">

<div class="tasks-box">
    <p>–ó–∞–¥–∞–Ω–∏–µ 2: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –∫—Ä–∏—Å—Ç–∞–ª–ª—ã</p>
    <button onclick="alert('–ü–æ–ø–æ–ª–Ω–µ–Ω–æ!')">–í—ã–ø–æ–ª–Ω–∏—Ç—å</button>
</div>

<hr class="task-line">

<div class="tasks-box">
    <p>–ó–∞–¥–∞–Ω–∏–µ 3: –ó–∞–±–µ—Ä–∏—Ç–µ –±–æ–Ω—É—Å</p>
    <button onclick="alert('–ë–æ–Ω—É—Å –ø–æ–ª—É—á–µ–Ω!')">–í—ã–ø–æ–ª–Ω–∏—Ç—å</button>
</div>

<div id="status"></div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    const tg = window.Telegram.WebApp;
    const userId = tg.initDataUnsafe?.user?.id || 0; // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram WebApp

    function checkSub() {
        fetch("https://your-server.com/check_sub", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_id: userId })
        })
        .then(r => r.json())
        .then(data => {
            const box = document.getElementById("status");

            if (data.subscribed === true) {
                box.innerHTML = `‚úî –í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å!<br>üíé +${data.reward} –≥–µ–º–æ–≤`;
                box.style.color = "#4caf50";
            } else {
                box.innerHTML = "‚ùå –í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª";
                box.style.color = "red";
            }
        })
        .catch(err => {
            document.getElementById("status").innerHTML = "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏";
            console.error(err);
        });
    }
</script>

</body>
</html>



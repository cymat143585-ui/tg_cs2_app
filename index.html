<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<style>
    body {
        background-color: #000;
        color: #fff;
        font-family: Arial;
        text-align: center;
    }
    #status {
        margin-top: 20px;
        font-size: 1.4em;
    }
    button {
        padding: 10px 20px;
        border-radius: 10px;
        border: none;
        background: #4caf50;
        color: #fff;
        font-size: 1.2em;
        cursor: pointer;
    }
</style>
</head>

<body>
    <h1>Mcrystals</h1>

    <div class="tasks-box">
        <p>–ó–∞–¥–∞–Ω–∏–µ: –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª</p>
        <button onclick="checkSub()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</button>
    </div>

    <div id="status"></div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    const tg = window.Telegram.WebApp;
    const userId = tg.initDataUnsafe.user.id; // üî• –ø–æ–ª—É—á–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    function checkSub() {
        fetch("https://your-server.com/check_sub", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ user_id: userId })
        })
        .then(r => r.json())
        .then(data => {
            const box = document.getElementById("status");

            if (data.subscribed === true) {
                box.innerHTML = `‚úî –í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å!<br>üíé +${data.reward} –≥–µ–º–æ–≤`;
                box.style.color = "#4caf50";
            } else {
                box.innerHTML = "‚ùå –í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª";
                box.style.color = "red";
            }
        });
    }
</script>

</body>
</html>
